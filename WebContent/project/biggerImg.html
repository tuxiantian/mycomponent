<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>图片放大镜</title>
<style type="text/css">
*{padding: 0;margin: 0;}
body{font-family: "微软雅黑";font-size: 14px;background-color: #999;}
.box{width: 1200px;height: 400px;margin: 50px auto;padding: 10px;background: #fff;}
.left{width: 400px;height: 400px;float:left;position: relative;}
.left .drag{cursor:move; width: 100px;height: 100px;background: yellow;display: block;position: absolute;top:0;left:0;opacity:0.4;filter:alpha(opacity=40);display: none;}
.right{width: 800px;height: 400px;float: right;}
.right h3{color: #333;padding-left: 20px;}
.right .cont{padding: 20px;}
.bigImg{
width: 500px;height: 500px;position: absolute;top:30px;left:555px;
	overflow: hidden;border: 10px solid #ccc;clear: both;display: none;
	}
.bigImg img{position: relative;}	
</style>
</head>
<body>
	<div class="box" id="imgBox">
		<div class="left" id="left">
			<a href="javascript:void(0);"> <img id="J_ImgBooth"
				src="http://localhost:80/mycomponent/project/images/flower.jpg"
				width="400" height="400">
			</a>
			<span class="drag"></span>

		</div>

		<div class="right">
			<h3>春</h3>
			<div class="cont">盼望着，盼望着，东风来了，春天的脚步近了。
				一切都象刚睡醒的样子，欣欣然张开了眼。山朗润起来了，水涨起来了，太阳的脸红起来了。

				小草偷偷地从土里钻出来，嫩嫩的，绿绿的。园子里，田野里，瞧去，一大片一大片满是的。坐着，趟着，打两个滚，踢几脚球，赛几趟跑，捉几回迷藏。风轻悄悄的，草软绵绵的。

				桃树、杏树、梨树，你不让我，我不让你，都开满了花赶趟儿。红的像火，粉的像霞，白的像雪。花里带着甜味儿，闭了眼，树上仿佛已经满是桃儿、杏儿、梨儿！花下成千成百的蜜蜂嗡嗡地闹着，大小的蝴蝶飞来飞去。野花遍地是：杂样儿，有名字的，没名字的，散在草丛里像眼睛，像星星，还眨呀眨的。

				“吹面不寒杨柳风”，不错的，像母亲的手抚摸着你。风里带来些新翻的泥土气息，混着青草味儿，还有各种花的香都在微微润湿的空气里酝酿。鸟儿将窠巢安在繁花嫩叶当中，高兴起来了，呼朋引伴地卖弄清脆的喉咙，唱出宛转的曲子，与轻风流水应和着。牛背上牧童的短笛，这时候也成天嘹亮地响。

				雨是最寻常的，一下就是两三天。可别恼。看，像牛毛，像花针，像细丝，密密地斜织着，人家屋顶上全笼着一层薄烟。傍晚时候，上灯了，一点点黄晕的光，烘托出一片安静而和平的夜。乡下去，小路上，石桥边，有撑起伞慢慢走着的人；还有地里工作的农夫，披着蓑，戴着笠。他们的房屋，稀稀疏疏的，在雨里静默着。

				天上风筝渐渐多了，地上孩子也多了。城里乡下，家家户户，老老小小，也赶趟儿似的，一个个都出来了。舒活舒活筋骨，抖擞精神，各做各的一份儿事去了。“一年之计在于春”，刚起头儿，有的是工夫，有的是希望。

				春天像刚落地的娃娃，从头里脚是新的，它生长着。 春天像小姑娘，花枝招展的，笑着，走着。

				春天像健壮的青年，有铁一般的胳膊和腰脚，领着我们上前去。</div>
		</div>
		
	
	</div>

	<div class="bigImg">
		<img alt=""
			src="http://localhost:80/mycomponent/project/images/flower.jpg" id="bigImg">
		</div>

	<script type="text/javascript">
		function $(elementId){
			return document.getElementById(elementId);
		}
		window.onload=function(){
			var img=$("left");
			var spanDom=img.children[1];
			var bimg=$("bigImg");
			//onmouseenter,onmouseleave.用onmouseover和onmouseout事件在ie浏览器中会出现闪动现象。
			img.onmouseenter=function(){
				spanDom.style.display="block";
				bimg.parentElement.style.display="block";
			};
			img.onmouseleave=function(){
				spanDom.style.display="none";
				bimg.parentElement.style.display="none";
			};
			 img.onmousemove=function(e){
				var ev=e||window.event;
				var x=(ev.clientX||ev.pageX)-this.offsetLeft;
				var y=(ev.clientY||ev.pageY)-this.offsetTop;
				var left=x-spanDom.offsetWidth/2;
				if(left<0)left=0;
				var top=y-spanDom.offsetHeight/2;
				if(top<0)top=0;
				var maxLeft=this.offsetWidth-spanDom.offsetWidth;
				var maxTop=this.offsetHeight-spanDom.offsetHeight;
				if(left>maxLeft)left=maxLeft;
				if(top>maxTop)top=maxTop;
				spanDom.style.left=left+"px";
				spanDom.style.top=top+"px";
				
				var xbit=left/maxLeft;
				var ybit=top/maxTop;
				var bleft=(bimg.offsetWidth-bimg.parentElement.offsetWidth)*xbit;
				var btop=(bimg.offsetHeight-bimg.parentElement.offsetHeight)*ybit;
				bimg.style.left=-bleft+"px";
				bimg.style.top=-btop+"px"; 
			}; 
		}
		</script>
</body>
</html>